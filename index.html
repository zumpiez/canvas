<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Canvas</title>
        <style>
            #canvas {
                border: 1px solid black;
            }
        </style>
        <script src="game.js" type="text/javascript" language="javascript"></script>
        <script>
            

            // i can haz log
            function log(msg){
                if("undefined" !== typeof console){
                    console.log("" + msg);
                }
            }

            // attach an event handler to a DOM element
            function addEventHandler(el, e, h){
                if("undefined" !== typeof el.addEventListener){
                    el.addEventListener(e, h, false);
                }else{
                    el.attachEvent("on" + e, h);
                }
            }

            // execute on body load
            function load(){
                var canvas, context, game, start, stop, frames = 0;

                // find the canvas
                canvas = document.getElementById("canvas");
                // get the drawing context
                context = canvas.getContext("2d");

                // create the game
                game = new Game({
                    draw:function(){
                        // calculate the fps
                        var fps = (++frames) / ((+new Date() -
                            this.startTime()) / 1000);
                        // clear (erase) the canvas
                        canvas.width = canvas.width;
                        // draw the fps in text on the canvas
                        context.fillText("fps: " + fps.toFixed(2), 5, 10);
                    }
                });

                start = document.getElementById("start");

                // start click handler
                addEventHandler(start, "click", function(e){
                    if(false === game.isRunning()){
                        frames = 0;
                        log("starting game");
                        game.start();
                    }
                });

                stop = document.getElementById("stop");

                // stop click handler
                addEventHandler(stop, "click", function(e){
                    if(true === game.isRunning()){
                        log("stopping game");
                        game.stop();
                    }
                });
            }
        </script>
    </head>
    <body onload="load()">
        <div class="controls">
            <input id="start" type="button" value="Start" />
            <input id="stop" type="button" value="Stop" />
        </div>
        <div class="game">
            <canvas id="canvas" width="300" height="300">
            </canvas>
        <div>
    </body>
</html>